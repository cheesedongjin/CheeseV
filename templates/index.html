<h1>CheeseV</h1>

<div id="intro">
    I'm a self-taught developer from South Korea, focused on building scalable systems and tools from scratch.<br>
    I enjoy turning small ideas into robust, extensible code â€” especially in game development and automation.
</div>

<p>
    You can find more of my work on
    <a href="https://github.com/cheesedongjin" target="_blank" rel="noopener noreferrer">GitHub</a>.
</p>

<div class="directory-container">
    <svg id="tree-lines"></svg>
    <ul class="directory-tree">
        <li>
            {{ devlog_section }}
        </li>
        <li>
            {{ portfolio_section }}
        </li>
    </ul>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const container = document.querySelector('.directory-container');
    const tree = container.querySelector('.directory-tree');
    const svg = container.querySelector('#tree-lines');
    const NS = 'http://www.w3.org/2000/svg';

    function addPath(d) {
        const path = document.createElementNS(NS, 'path');
        path.setAttribute('d', d);
        path.setAttribute('stroke', 'var(--primary-color)');
        path.setAttribute('fill', 'none');
        svg.appendChild(path);
    }
    function connect(ul, rect, isRoot = false) {
        const items = Array.from(ul.children).filter(el => el.tagName === 'LI');
        if (!items.length) return;

        const ulRect = ul.getBoundingClientRect();
        const first = items[0].getBoundingClientRect();
        const last = items[items.length - 1].getBoundingClientRect();
        const x = ulRect.left - rect.left;
        const startY = isRoot ? 0 : first.top - rect.top + first.height / 2;
        const endY = last.top - rect.top + last.height / 2;
        addPath(`M${x} ${startY}V${endY}`);

        items.forEach(li => {
            const lr = li.getBoundingClientRect();
            const y = lr.top - rect.top + lr.height / 2;
            const lx = lr.left - rect.left;
            addPath(`M${x} ${y}H${lx}`);
            li.querySelectorAll(':scope > ul').forEach(childUl => connect(childUl, rect));
        });
    }

    function drawLines() {
        svg.innerHTML = '';
        const rect = container.getBoundingClientRect();
        svg.setAttribute('width', rect.width);
        svg.setAttribute('height', rect.height);
        connect(tree, rect, true);
    }

    drawLines();
    window.addEventListener('resize', drawLines);
});
</script>
